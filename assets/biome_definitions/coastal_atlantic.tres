[gd_resource type="Resource" script_class="BiomeDefinition"]

script = SubResource("GDScript_1")
biome_id = "coastal_atlantic"
display_name = "Coastal Atlantic"
description = "Rocky coastline with kelp forests and marine resources"
base_temperature = 2.0
difficulty_tier = "moderate"
terrain_types = ["rocky_shore", "kelp_forest", "sandy_beach"]
terrain_speed_multipliers = {"rocky_shore": 0.6, "kelp_forest": 0.4, "sandy_beach": 0.9}
spawn_rates = {"willow_tree": 0.15, "kelp": 0.4, "shells": 0.25, "sea_grass": 0.2, "rock": 0.15, "seal": 0.05}
forage_items = ["kelp", "shells", "sea_grass", "crabs", "fish", "salt"]
huntable_animals = ["seal", "bird", "crab"]
ambient_sound = "res://assets/sounds/ambient/ocean_waves.ogg"
primary_color = Color(0, 1, 1, 1)
tree_sprite_prefix = "tree_willow"
water_sprite = "water_ocean_blue"
seasonal_variations = {"spring": {"spawn_modifier": 1.3, "visual_variant": "spring"}, "summer": {"spawn_modifier": 1.4, "visual_variant": "summer"}, "fall": {"spawn_modifier": 0.9, "visual_variant": "fall"}, "winter": {"spawn_modifier": 0.4, "visual_variant": "winter"}}

[sub_resource type="GDScript" id="GDScript_1"]
source_code = "extends Resource
class_name BiomeDefinition

@export var biome_id: String = \"temperate_forest\"
@export var display_name: String = \"Temperate Forest\"
@export var description: String = \"Moderate climate with diverse flora\"
@export var base_temperature: float = 0.0
@export var difficulty_tier: String = \"moderate\"
@export var terrain_types: Array[String] = [\"dense_forest\", \"sparse_forest\", \"clearing\"]
@export var terrain_speed_multipliers: Dictionary = {\"dense_forest\": 0.8, \"sparse_forest\": 1.0, \"clearing\": 1.2}
@export var spawn_rates: Dictionary = {\"maple_tree\": 0.3, \"oak_tree\": 0.25, \"mushroom\": 0.15, \"berry_bush\": 0.2, \"rock\": 0.1}
@export var forage_items: Array[String] = [\"berries\", \"mushrooms\", \"roots\", \"seeds\"]
@export var huntable_animals: Array[String] = [\"deer\", \"rabbit\", \"bird\"]
@export var ambient_sound: String = \"res://assets/sounds/ambient/forest.ogg\"
@export var primary_color: Color = Color.GREEN
@export var tree_sprite_prefix: String = \"tree_temperate\"
@export var water_sprite: String = \"water_river_brown\"
@export var seasonal_variations: Dictionary = {\"spring\": {\"spawn_modifier\": 1.5}, \"summer\": {\"spawn_modifier\": 1.5}, \"fall\": {\"spawn_modifier\": 0.8}, \"winter\": {\"spawn_modifier\": 0.3}}

func get_spawn_rate(resource_type: String, season_modifier: float = 1.0) -> float:
	if resource_type in spawn_rates:
		return spawn_rates[resource_type] * season_modifier
	return 0.0

func get_speed_multiplier(terrain_type: String) -> float:
	if terrain_type in terrain_speed_multipliers:
		return terrain_speed_multipliers[terrain_type]
	return 1.0

func get_forage_items() -> Array[String]:
	return forage_items.duplicate()

func get_huntable_animals() -> Array[String]:
	return huntable_animals.duplicate()

func get_season_variant(season: String) -> Dictionary:
	if season in seasonal_variations:
		return seasonal_variations[season]
	return {\"spawn_modifier\": 1.0, \"visual_variant\": \"default\"}

func get_info_string() -> String:
	return \"[%s] %s - Tier: %s, Temp: %+.1fÂ°C, Forage: %d items, Animals: %d types\" % [biome_id, display_name, difficulty_tier, base_temperature, forage_items.size(), huntable_animals.size()]
"
